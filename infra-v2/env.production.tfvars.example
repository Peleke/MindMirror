# Swae Production - OpenTofu Variables
# Copy this file to env.production.tfvars and customize

# ========================================
# CORE CONFIGURATION
# ========================================

project_id  = "swae-prod-XXXXXX"  # TODO: Replace with your GCP project ID
region      = "us-central1"
environment = "production"

# ========================================
# CONTAINER IMAGES
# ========================================
# TODO: Build and push images to Artifact Registry first
# Format: REGION-docker.pkg.dev/PROJECT_ID/REPO_NAME/IMAGE_NAME:TAG

agent_service_image    = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/agent-service:latest"
journal_service_image  = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/journal-service:latest"
habits_service_image   = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/habits-service:latest"
meals_service_image    = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/meals-service:latest"
movements_service_image = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/movements-service:latest"
practices_service_image = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/practices-service:latest"
users_service_image    = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/users-service:latest"
gateway_image          = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/gateway:latest"
celery_worker_image    = "us-central1-docker.pkg.dev/swae-prod-XXXXXX/swae/celery-worker:latest"

# ========================================
# SCALING CONFIGURATION
# ========================================

# Critical services (no cold starts)
min_instances_critical = 1

# Normal services (cold starts acceptable)
min_instances_normal = 0

# Max instances (all services)
max_instances = 10

# ========================================
# RESOURCE LIMITS
# ========================================

cpu_limit    = "1000m"  # 1 vCPU
memory_limit = "512Mi"  # 512 MB

# ========================================
# NETWORKING (Future VPC)
# ========================================

enable_vpc_connector = false  # Set to true when enabling VPC
vpc_connector_cidr   = "10.8.0.0/28"

# ========================================
# PROGRAM TEMPLATE IDS (Habits Service)
# ========================================

uye_program_template_id              = "uye-template"
mindmirror_program_template_id       = "mindmirror-template"
daily_journaling_program_template_id = "daily-journaling-template"

# ========================================
# DEBUG/LOGGING
# ========================================

log_level = "info"  # debug, info, warn, error
debug     = false

# ========================================
# MESH CONFIGURATION (Legacy)
# ========================================
# These will be removed after gateway auth enhancement

faux_mesh_user_id     = "system"
faux_mesh_supabase_id = "system"
